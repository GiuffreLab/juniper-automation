---
- name: Exchange SSH Keys with Host Device
  hosts: all
  gather_facts: no

  vars:
    - auth_key: "{{lookup('file', '{{ key_file }}')}}"

  tasks:
  - name: Create Ansible User Account and Copy SSH Key
    junos_user:
      name: lab-ansible
      role: super-user
      sshkey: "{{ auth_key }}"
      state: present